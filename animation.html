<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Eid Celebration Engine</title>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Poppins:wght@400;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --gold: #f1c40f;
            --white: #ffffff;
        }

        body, html {
            margin: 0; padding: 0;
            width: 100%; height: 100%;
            overflow: hidden;
            background: #000;
            font-family: 'Poppins', sans-serif;
            color: white;
            touch-action: none; /* Prevents scrolling while interacting */
        }

        #bg {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1b2735 0%, #090a0f 100%);
            z-index: -1;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            width: 100%;
            text-align: center;
            perspective: 1000px;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 30px 20px;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            width: 85%;
            max-width: 400px;
            transform-style: preserve-3d;
            transition: transform 0.2s ease-out;
        }

        /* Responsive Typography */
        h1 {
            font-family: 'Bungee', cursive;
            font-size: 2.2rem; /* Scaled for mobile */
            margin: 10px 0;
            line-height: 1.1;
        }

        @media (min-width: 768px) {
            h1 { font-size: 3.5rem; }
            .glass-card { padding: 50px; }
        }

        /* Countdown Grid - Responsive */
        .countdown-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2x2 on small phones */
            gap: 10px;
            margin-top: 20px;
        }

        @media (min-width: 400px) {
            .countdown-grid { grid-template-columns: repeat(4, 1fr); }
        }

        .time-box {
            background: rgba(241, 196, 15, 0.1);
            padding: 10px;
            border-radius: 12px;
            border: 1px solid var(--gold);
        }

        .num {
            display: block;
            font-family: 'Bungee', cursive;
            font-size: 1.5rem;
            color: var(--gold);
        }

        .label {
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            opacity: 0.8;
        }

        /* Celebration UI */
        #eid-ui { display: none; }
        
        .celebration h1 {
            animation: chroma 2s infinite linear;
            font-size: 2.5rem;
        }

        @keyframes chroma {
            0% { color: #ff00ea; text-shadow: 0 0 10px #ff00ea; }
            50% { color: #00f2ff; text-shadow: 0 0 10px #00f2ff; }
            100% { color: #ff00ea; text-shadow: 0 0 10px #ff00ea; }
        }

        .mega-btn {
            background: var(--gold);
            color: #000;
            border: none;
            padding: 15px 30px;
            font-family: 'Bungee', cursive;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
            width: 100%;
            max-width: 250px;
        }

        #trail {
            position: fixed;
            top: 0; left: 0;
            pointer-events: none;
            z-index: 100;
        }
    </style>
</head>
<body>

    <div id="bg"></div>
    <canvas id="trail"></canvas>

    <div class="container">
        <div id="countdown-ui" class="glass-card">
            <p style="letter-spacing: 3px; font-size: 0.8rem; color: var(--gold);">THE COUNTDOWN</p>
            <h1>EID IS COMING</h1>
            <div class="countdown-grid">
                <div class="time-box"><span class="num" id="days">00</span><span class="label">Days</span></div>
                <div class="time-box"><span class="num" id="hours">00</span><span class="label">Hrs</span></div>
                <div class="time-box"><span class="num" id="mins">00</span><span class="label">Min</span></div>
                <div class="time-box"><span class="num" id="secs">00</span><span class="label">Sec</span></div>
            </div>
        </div>

        <div id="eid-ui" class="glass-card celebration">
            <div style="font-size: 60px;">ðŸŒ™</div>
            <h1>EID MUBARAK</h1>
            <p>Blessings to you and your family!</p>
            <button class="mega-btn" onclick="megaBlast()">HYPER PARTY ðŸŽ‰</button>
        </div>
    </div>

    <script>
        // Set your target Eid Date
        const eidDate = new Date(2026, 2, 20).getTime(); 

        function updateClock() {
            const now = new Date().getTime();
            const distance = eidDate - now;

            if (distance < 0) {
                document.getElementById('countdown-ui').style.display = 'none';
                document.getElementById('eid-ui').style.display = 'block';
                return;
            }

            const d = Math.floor(distance / (1000 * 60 * 60 * 24));
            const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').innerText = d.toString().padStart(2, '0');
            document.getElementById('hours').innerText = h.toString().padStart(2, '0');
            document.getElementById('mins').innerText = m.toString().padStart(2, '0');
            document.getElementById('secs').innerText = s.toString().padStart(2, '0');
        }
        setInterval(updateClock, 1000);
        updateClock();

        // --- MOBILE FRIENDLY INTERACTION ---
        const card = document.querySelector('.glass-card');
        const trailCanvas = document.getElementById('trail');
        const tctx = trailCanvas.getContext('2d');
        let dots = [];

        function handleMove(e) {
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;

            // Tilt effect
            const x = (window.innerWidth / 2 - clientX) / 15;
            const y = (window.innerHeight / 2 - clientY) / 15;
            document.querySelectorAll('.glass-card').forEach(c => {
                c.style.transform = `rotateY(${-x}deg) rotateX(${y}deg)`;
            });

            // Trail particles
            dots.push({ x: clientX, y: clientY, alpha: 1, color: Math.random() * 360 });
        }

        window.addEventListener('mousemove', handleMove);
        window.addEventListener('touchmove', handleMove);

        // Trail Animation
        function animateTrail() {
            tctx.clearRect(0, 0, trailCanvas.width, trailCanvas.height);
            dots.forEach((dot, index) => {
                dot.alpha -= 0.03;
                tctx.fillStyle = `hsla(${dot.color}, 100%, 70%, ${dot.alpha})`;
                tctx.beginPath();
                tctx.arc(dot.x, dot.y, 4, 0, Math.PI * 2);
                tctx.fill();
                if(dot.alpha <= 0) dots.splice(index, 1);
            });
            requestAnimationFrame(animateTrail);
        }
        animateTrail();

        window.addEventListener('resize', () => {
            trailCanvas.width = window.innerWidth;
            trailCanvas.height = window.innerHeight;
        });
        window.dispatchEvent(new Event('resize'));

        function megaBlast() {
            const end = Date.now() + (3 * 1000);
            (function frame() {
              confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
              confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
              if (Date.now() < end) requestAnimationFrame(frame);
            }());
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        }
    </script>
</body>
</html>
