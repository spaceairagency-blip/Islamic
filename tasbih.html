<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Tasbih | Islam Topic</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <style>
        :root {
            --bg-dark: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --accent: #facc15;
            --text-main: #ffffff;
            --text-dim: #94a3b8;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Segoe UI', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        .tasbih-container {
            background: var(--card-bg);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 50px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            width: 320px;
            position: relative;
        }

        .screen {
            background: #000;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            border: 4px solid #334155;
            box-shadow: inset 0 0 15px rgba(250, 204, 21, 0.2);
        }

        #counter {
            font-family: 'Courier New', Courier, monospace;
            font-size: 4rem;
            color: var(--accent);
            text-shadow: 0 0 10px rgba(250, 204, 21, 0.5);
            margin: 0;
        }

        .target-display {
            font-size: 0.8rem;
            color: var(--text-dim);
            margin-top: 5px;
            text-transform: uppercase;
        }

        .main-btn {
            width: 150px;
            height: 150px;
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border: 8px solid #334155;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--accent);
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
            margin: 0 auto;
            transition: transform 0.1s, box-shadow 0.1s;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .main-btn:active {
            transform: scale(0.95);
            box-shadow: 0 5px 10px rgba(0,0,0,0.4);
            border-color: var(--accent);
        }

        .controls {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
        }

        .control-btn {
            background: #334155;
            border: none;
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: 0.3s;
        }

        .control-btn:hover { background: var(--accent); color: var(--bg-dark); }

        .back-link {
            position: absolute;
            top: 20px;
            left: 20px;
            color: var(--text-dim);
            text-decoration: none;
            font-size: 0.9rem;
        }

        .back-link:hover { color: var(--accent); }

        .vibration-msg {
            font-size: 0.7rem;
            margin-top: 15px;
            color: var(--text-dim);
        }
    </style>
</head>
<body>

    <a href="index.html" class="back-link"><i class="fa-solid fa-chevron-left"></i> Portal</a>

    <div class="tasbih-container">
        <div class="screen">
            <h1 id="counter">00</h1>
            <div class="target-display">Total Dhikr</div>
        </div>

        <div class="main-btn" id="countBtn">
            <i class="fa-solid fa-fingerprint"></i>
        </div>

        <div class="controls">
            <button class="control-btn" id="resetBtn" title="Reset">
                <i class="fa-solid fa-rotate-right"></i>
            </button>
        </div>

        <p class="vibration-msg">Taps are saved automatically</p>
    </div>

    <script>
        let count = parseInt(localStorage.getItem('tasbihCount')) || 0;
        let isMuted = false;

        const counterDisplay = document.getElementById('counter');
        const countBtn = document.getElementById('countBtn');
        const resetBtn = document.getElementById('resetBtn');
        const soundBtn = document.getElementById('soundBtn');

        // Update display initially
        updateDisplay();

        function updateDisplay() {
            counterDisplay.innerText = count.toString().padStart(2, '0');
            localStorage.setItem('tasbihCount', count);
        }

        // function playClick() {
        //     if (!isMuted) {
        //         const audio = new Audio('https://www.soundjay.com/buttons/sounds/button-16.mp3');
        //         audio.play();
        //     }
        // }

        countBtn.addEventListener('click', () => {
            count++;
            updateDisplay();
            playClick();
            
            // Haptic Feedback for Mobile
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }

            // Visual effect on reaching common Dhikr numbers
            if (count % 33 === 0) {
                counterDisplay.style.color = "#ffffff";
                setTimeout(() => counterDisplay.style.color = "var(--accent)", 500);
                if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
            }
        });

        resetBtn.addEventListener('click', () => {
            if (confirm("Reset counter to 0?")) {
                count = 0;
                updateDisplay();
            }
        });

        soundBtn.addEventListener('click', () => {
            isMuted = !isMuted;
            soundBtn.innerHTML = isMuted ? 
                '<i class="fa-solid fa-volume-xmark"></i>' : 
                '<i class="fa-solid fa-volume-high"></i>';
        });

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                countBtn.click();
            }
        });
    </script>
</body>
</html>
